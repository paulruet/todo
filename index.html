<html>
<head>
  <title>Simple To-DO List</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.css">
</head>

<body class="well">
<div id="container">

    <div id="header"> To Do List </div>

    <div class="task-list" id="sort">

         <h3>To Do-List</h3>
      
    </div>



    <div class="task-list" >
      <h3>Add a task</h3>

      <form id="todo-form">
      <input type="hidden" class="clicked-index" value="">
      <input type="hidden" class="id" value="">
        <input type="text" placeholder="Title" class="title"/>

        <textarea placeholder="Description" class="description"></textarea>

        <input type="text" id="datepicker" class="date" placeholder="Due Date (dd/mm/yyyy)" />
        <input type="text" placeholder="Tag" class="tag"/>

        <input type="button" class="btn btn-primary" value="Add Task" id="add_btn" /> <!-- onclick="todo.add();" -->
        <input type="button" class="btn btn-primary" value="Edit Task" id="edit_btn" /> 
      </form>

      <input type="button" class="btn btn-primary" value="Clear Data" id="clear_btn"/> <!--onclick="todo.clear(); -->" 

    </div>

    <div style="clear:both;"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script type="text/javascript" src="main.js"></script>

 <script type="text/javascript">
   $( "#datepicker" ).datepicker();
   $( "#datepicker" ).datepicker("option", "dateFormat", "dd/mm/yy");
   $( "#sort" ).sortable({
    stop: function() {
        var id = [];
          $.each($('.todo-task'),function(index, element){
            id.push(element.id);
          });
          // console.log(id);
          
          var storedNames = JSON.parse(localStorage.getItem("array"));
          // console.log(storedNames);
          
          var sorted=[];
          for(var i=0;i< id.length;i++){
            for(var j=0;j< storedNames.length;j++){
              if(id[i]==storedNames[j].id){
                sorted.push(storedNames[j]);
              }
            }
          }          
          localStorage.setItem("array", JSON.stringify(sorted));
        
         
       
        }

   
    
});
$( "#sort" ).disableSelection();
   
 </script>

  </div>
</body>
</html>